{{template "public/header" .}}
<body>
    <h1>上传图片到 Telegram</h1><label for="uploadFile" id="uploadFileLabel" class="custom-file-label">选择文件</label> <input
        type="file" name="image" id="uploadFile" accept=".jpg, .jpeg, .png" class="custom-file-input"> <button
        id="uploadButton">上传</button>
    <div id="loading">上传中...</div>
    <div id="response" class="ui-widget"></div>
    <script>function uploadImg(o) { var e = new FormData; e.append("image", o), $("#uploadButton").prop("disabled", !0), $("#uploadButton").text("上传中"), $("#loading").show(); var a = window.location.protocol + "//" + window.location.hostname; "80" !== window.location.port && 0 < window.location.port.length && (a = a + ":" + window.location.port), $.ajax({ type: "POST", url: a + "/api", data: e, contentType: !1, processData: !1, success: function (o) { var e, t; 1 === o.code ? (e = a + o.message, t = $('<div class="response-item response-success">上传成功，图片外链：<a target="_blank" href="' + e + '">' + e + '</a><div class="copy-links"><span class="copy-code" data-clipboard-text="&lt;img src=&quot;' + e + '&quot; alt=&quot;Your Alt Text&quot;&gt;">HTML</span><span class="copy-code" data-clipboard-text="![Alt Text](' + e + ')">Markdown</span><span class="copy-code" data-clipboard-text="[img]' + e + '[/img]">BBCode</span></div></div>'), $("#response").prepend(t), $("#uploadFile").val(""), $("#uploadFileLabel").text("选择文件").css("background-color", "#007BFF"), $(".copy-code").click(function () { var o = $(this).data("clipboard-text"), e = $("<input>"); $("body").append(e), e.val(o).select(), document.execCommand("copy"), e.remove(); var t = $(this), a = t.text(); t.text("复制成功"), setTimeout(function () { t.text(a) }, 1e3) })) : (t = $('<div class="response-item response-error">上传失败,错误信息：' + o.message + "</div>"), $("#response").prepend(t)) }, error: function () { var o = $('<div class="response-item response-error">上传失败</div>'); $("#response").prepend(o) }, complete: function () { $("#uploadButton").prop("disabled", !1), $("#uploadButton").text("上传"), $("#loading").hide() } }) } document.addEventListener("paste", function (o) { for (var e = o.clipboardData.items, t = 0; t < e.length; t++) { var a, n = e[t]; -1 !== n.type.indexOf("image") && (a = n.getAsFile(), $("#uploadFileLabel").text("已选择剪贴板文件").css("background-color", "#0056b3"), uploadImg(a)) } }), $(document).ready(function () { $("#uploadFile").change(function () { var o = $(this).val().split("\\").pop(); o ? $("#uploadFileLabel").text("已选择文件: " + o).css("background-color", "#0056b3") : $("#uploadFileLabel").text("选择文件").css("background-color", "#007BFF") }), $("#uploadButton").click(function () { var o = document.getElementById("uploadFile").files[0]; o ? uploadImg(o) : alert("请选择一个图片文件") }) })</script>
    <a target="_blank" href="https://github.com/csznet/tgState"><svg version="1.1" id="Layer_1"
            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="44px"
            height="15px" viewBox="0 0 44 15" enable-background="new 0 0 44 15" xml:space="preserve">
            <image id="image0" width="44" height="15" x="0" y="0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAPBAMAAABtkjCqAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAKlBMVEUAAAD/////ZgCZmWb/
aAT/+vj/agj//fz8/Pr9/f36+vj/+PT/ZwOammiamlTzAAAAAWJLR0QB/wIt3gAAAAlwSFlzAAAL
EwAACxMBAJqcGAAAAAd0SU1FB+cKAw8uKd154KgAAABtSURBVBjTY2DADhgFsQABBkYlOBA2hgHS
hR1FlRIFiwQFhYQtjC0sBScvFAQLB6kFBQHVaisJW062sACqbYYIKwFVK+kEKQlbXLxhKQgXVgNK
BKkCzbYw7kSoVhRVEhRUQpgNFaaGu7GHCXYAAPxWLJi8tpSVAAAAJXRFWHRkYXRlOmNyZWF0ZQAy
MDIzLTEwLTAzVDE1OjQ2OjQxKzAwOjAwZpEQ6AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0xMC0w
M1QxNTo0Njo0MSswMDowMBfMqFQAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjMtMTAtMDNUMTU6
NDY6NDErMDA6MDBA2YmLAAAAAElFTkSuQmCC" />
        </svg></a>
</body>